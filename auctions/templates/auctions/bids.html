{% extends 'auctions/layout.html' %}

{% block body %}
    <div class="bid-item-container text-center " >
        <h2 class="record-title">Bid Records</h2>
        <h1 ><a class="link" href="{% url 'listing' listing.id %}">{{ listing.title}}</a></h1>
    </div>
    
    <div class="container mt-5">
        <table class="table table-bordered ">

            <!-- Table Head -->
            <thead class=" table-dark ">
                <tr>
                    <th scope="col">Bidder</th>
                    <th scope="col">Bid Price</th>
                    <th scope="col">Placed Time</th>
                </tr>
            </thead>

            <!-- Table Body -->
            <tbody >
                
                {% for bid in bids %}
                    <tr>
                        <td>{{bid.user.username}} 
                            {% if listing.poster == bid.user %}
                                <span class="info-tag info-tag--poster">listing poster</span>
                            {% endif %}
                        </td>
                        <td>${{ bid.price }} 
                            {% if listing.poster == bid.user %} 
                                <span class="info-tag info-tag--opening-price" >opening price</span> 
                            {% endif %}
                            {% if listing.status == 'closed' and listing.current_bid.price == bid.price  %}
                                <span class="info-tag info-tag--winner" >winning bid</span> 
                            {% endif %}
                        </td>
                        <td>{{ bid.updated_at }}</td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
    
    
{% endblock %}